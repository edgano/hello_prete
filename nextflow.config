executor {
  name = 'lsf'
  // use perJobMemLimit so '-M' matches '-R [mem]' when bsub'ing
  perJobMemLimit = true
}

singularity {
  enabled = true
  autoMount = true
  containerOptions = "--bind /nfs --bind /lustre"
}

profiles {
  normal {
    process.memory = '2 GB'
    process.container = 'quay.io/nextflow/bash'
    process.shell = ['/bin/bash', '-euo', 'pipefail']
    process.queue = 'normal'
  }
  
  more_than_usual {
    process.memory = '8 GB'
    process.container = 'quay.io/nextflow/bash'
    process.shell = ['/bin/bash', '-euo', 'pipefail']
    process.queue = 'long'
  }
  
  bigger_larger_and_uncut {
    process.memory = '16 GB'
    process.container = 'quay.io/nextflow/bash'
    process.shell = ['/bin/bash', '-euo', 'pipefail']
    process.queue = 'basement'
  }
}
